@using Microsoft.AspNetCore.Html
@model Equilibrium.Web.Models.IncomeType.IncomeTypeModel

@{
    ViewData["Title"] = "Excluir Tipo de Receita";

    var htmlBuilder = new System.Text.StringBuilder();

    htmlBuilder.AppendLine("<dl class='row'>");
    htmlBuilder.AppendLine($"<dt class='col-sm-3'>Nome</dt>");
    htmlBuilder.AppendLine($"<dd class='col-sm-9'>{Model.Name}</dd>");

    if (!string.IsNullOrEmpty(Model.Description))
    {
        htmlBuilder.AppendLine($"<dt class='col-sm-3'>Descrição</dt>");
        htmlBuilder.AppendLine($"<dd class='col-sm-9'>{Model.Description}</dd>");
    }

    // Tipo (badge)
    var badgeClass = Model.IsSystem ? "bg-info" : "bg-primary";
    var badgeDescription = Model.IsSystem ? "Sistema" : "Personalizado";

    htmlBuilder.AppendLine("<dt class='col-sm-3'>Tipo</dt>");
    htmlBuilder.AppendLine("<dd class='col-sm-9'>");
    htmlBuilder.AppendLine($@"<span class='badge {badgeClass}'>{badgeDescription}</span>");
    htmlBuilder.AppendLine("</dd>");

    // Data de criação
    htmlBuilder.AppendLine($"<dt class='col-sm-3'>Data de Criação</dt>");
    htmlBuilder.AppendLine($"<dd class='col-sm-9'>{Model.CreatedAt:dd/MM/yyyy HH:mm}</dd>");
    htmlBuilder.AppendLine("</dl>");

    htmlBuilder.AppendLine(@"
        <div class='alert alert-warning mt-3'>
            <i class='fas fa-exclamation-circle'></i>
            Se houver receitas associadas a este tipo, elas não serão excluídas, mas perderão a associação com este tipo.
        </div>");

    IHtmlContent entityDetails = new HtmlString(htmlBuilder.ToString());
}

<div class="d-flex justify-content-end mb-3">
    <partial name="_Partials/Commons/_BackButton" model='(Action: "Details", Controller: "IncomeTypes", Text: "Voltar")' />
</div>

<partial name="_Partials/Commons/_DeleteConfirmation" model='(
    EntityName: "tipo de receita",
    Id: Guid.Parse(Model.Id),
    EntityDetails: entityDetails)' />
