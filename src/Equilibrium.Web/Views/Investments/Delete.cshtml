@using Microsoft.AspNetCore.Components
@using Equilibrium.Web.Models.Investment
@model InvestmentModel

@{
    ViewData["Title"] = "Excluir Investimento";

    RenderFragment entityDetails = @<text>
        <div class="mb-3">
            <partial name="_Partials/Commons/_FinancialDataItem" model='(
                Label: "Símbolo",
                Value: Model.Symbol,
                SecondaryText: "",
                ValueClass: "")' />
        </div>
        <div class="mb-3">
            <partial name="_Partials/Commons/_FinancialDataItem" model='(
                Label: "Nome",
                Value: Model.Name,
                SecondaryText: "",
                ValueClass: "")' />
        </div>
        <div class="mb-3">
            <partial name="_Partials/Commons/_FinancialDataItem" model='(
                Label: "Tipo",
                Value: Model.Type switch
                {
                    1 => "Ações",
                    2 => "Fundos Imobiliários",
                    3 => "ETFs",
                    4 => "Ações Estrangeiras",
                    5 => "Renda Fixa",
                    _ => "Não Categorizado"
                },
                SecondaryText: "",
                ValueClass: "")' />
        </div>
        <div class="mb-3">
            <partial name="_Partials/Commons/_FinancialDataItem" model='(
                Label: "Total Investido",
                Value: string.Format("{0:C2}", Model.TotalInvested),
                SecondaryText: "",
                ValueClass: "fw-bold")' />
        </div>

        @if (Model.Transactions != null && Model.Transactions.Any())
    {
        <div class="alert alert-warning">
            <i class="fas fa-exclamation-triangle me-2"></i> Este investimento possui @Model.Transactions.Count transações que também serão excluídas.
        </div>
    }
    </text>;
}

<div class="container-fluid">
    <div class="d-flex justify-content-end mb-3">
        <partial name="_Partials/Commons/_BackButton" model='(
            Action: "Index",
            Controller: "Investments",
            Text: "Voltar")' />
    </div>

    <partial name="_Partials/Commons/_DeleteConfirmation" model='(
        EntityName: "investimento",
        Id: Guid.Parse(Model.Id),
        EntityDetails: entityDetails)' />
</div>