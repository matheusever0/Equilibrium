@using FinanceSystem.Web.Helpers
@{
    var controllerName = ViewContext.RouteData.Values["Controller"]?.ToString();
}

<div class="sidebar-menu-item">
    <a href="#" class="sidebar-menu-link @(controllerName == "PaymentTypes" || controllerName == "PaymentMethods" ? "active" : "")"
       data-bs-toggle="collapse" data-bs-target="#collapseConfiguration"
       aria-expanded="@(controllerName == "PaymentTypes" || controllerName == "PaymentMethods" ? "true" : "false")"
       aria-controls="collapseConfiguration">
        <span class="sidebar-menu-icon"><i class="fas fa-cog"></i></span>
        <span>Configurações</span>
        <i class="fas fa-angle-down ms-auto"></i>
    </a>
    <div class="collapse @(controllerName == "PaymentTypes" || controllerName == "PaymentMethods" ? "show" : "")" id="collapseConfiguration">
        <div class="bg-dark py-2">
            @if (await PermissionHelper.HasPermissionAsync(ViewContext.HttpContext, "paymentmethods.view"))
            {
                <a asp-controller="PaymentMethods" asp-action="Index" class="sidebar-menu-link @(controllerName == "PaymentMethods" ? "active" : "")">
                    <span class="sidebar-menu-icon ps-2"><i class="fas fa-wallet"></i></span>
                    <span>Métodos de Pagamento</span>
                </a>
            }
        </div>
    </div>
</div>